<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ID Card Management - College System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <style>
        /* ID Card Template Styles */
.id-card-front {
    width: 300px;
    height: 180px;
    border: 2px solid #007bff;
    border-radius: 10px;
    padding: 10px;
    background: #fff;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
    font-family: 'Segoe UI', sans-serif;
}

.id-card-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    border-bottom: 1px solid #ccc;
    padding-bottom: 5px;
}

.id-card-header img {
    width: 50px;
    height: 50px;
}

.id-card-body {
    display: flex;
    margin-top: 8px;
}

.id-card-photo img {
    width: 60px;
    height: 75px;
    object-fit: cover;
    border: 2px solid #000;
}

.id-card-details {
    margin-left: 12px;
    font-size: 12px;
    line-height: 1.6;
}

.id-card-footer {
    margin-top: 5px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.barcode img {
    height: 25px;
}

.signature img {
    height: 25px;
}

    </style>
    <script>
        // Functions to show different sections (for sidebar navigation)
function showDashboard() {
    alert("Dashboard section is already shown.");
}
function showCardRequests() {
    alert("Card Requests section clicked.");
}
function showGenerateCards() {
    alert("Generate Cards section clicked.");
}
function showCardTemplates() {
    alert("Card Templates section clicked.");
}
function showReprintRequests() {
    alert("Reprint Requests section clicked.");
}
function showCardInventory() {
    alert("Inventory section clicked.");
}

// Modal control
function closeModal(id) {
    document.getElementById(id).style.display = "none";
}

// Update Preview with form values
function previewIdCard() {
    const person = document.getElementById("card-person").value || "Student Name";
    const type = document.getElementById("card-type").value || "student";
    const expiry = document.getElementById("card-expiry").value || "30/06/2025";
    const id = "STU" + Math.floor(100000 + Math.random() * 900000); // Random ID for demo
    const course = type === "student" ? "B.Sc Computer Science" : type === "staff" ? "Admin Staff" : type === "faculty" ? "Professor" : "Guest";

    document.getElementById("preview-name").textContent = person;
    document.getElementById("preview-id").textContent = id;
    document.getElementById("preview-course").textContent = course;
    document.getElementById("preview-valid").textContent = expiry;

    // Optionally show the modal with the preview
    document.getElementById("idcard-modal").style.display = "block";
}

function generateIdCard() {
    alert("ID Card has been generated successfully!");
    closeModal("idcard-modal");
}

    </script>
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="sidebar-header">
            <i class="fas fa-id-card fa-2x"></i>
            <h3>ID Card System</h3>
        </div>
        <div class="sidebar-menu">
            <ul>
                <li><a href="#" onclick="showDashboard()"><i class="fas fa-tachometer-alt"></i> <span>Dashboard</span></a></li>
                <li><a href="#" onclick="showCardRequests()"><i class="fas fa-clipboard-list"></i> <span>Card Requests</span></a></li>
                <li><a href="#" onclick="showGenerateCards()"><i class="fas fa-id-card"></i> <span>Generate Cards</span></a></li>
                <li><a href="#" onclick="showCardTemplates()"><i class="fas fa-palette"></i> <span>Card Templates</span></a></li>
                <li><a href="#" onclick="showReprintRequests()"><i class="fas fa-redo"></i> <span>Reprint Requests</span></a></li>
                <li><a href="#" onclick="showCardInventory()"><i class="fas fa-boxes"></i> <span>Inventory</span></a></li>
            </ul>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Dashboard Section -->
        <div id="dashboard-section">
            <div class="header">
                <h1>ID Card Management</h1>
                <div class="user-profile">
                    <img src="https://ui-avatars.com/api/?name=ID+Admin&background=007bff&color=fff" alt="ID Admin">
                    <div class="user-info">
                        <h4>ID Card Admin</h4>
                        <p>Administration Department</p>
                    </div>
                </div>
            </div>

            <!-- Cards -->
            <div class="cards-container">
                <div class="card">
                    <div class="card-header">
                        <div>
                            <h3 id="pending-requests">0</h3>
                            <p>Pending Requests</p>
                        </div>
                        <div class="card-icon requests">
                            <i class="fas fa-clock"></i>
                        </div>
                    </div>
                    <div class="card-footer">
                        <span id="new-today">+0 today</span>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div>
                            <h3 id="cards-generated">0</h3>
                            <p>Cards Generated</p>
                        </div>
                        <div class="card-icon generated">
                            <i class="fas fa-check-circle"></i>
                        </div>
                    </div>
                    <div class="card-footer">
                        <span id="generated-this-week">0 this week</span>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div>
                            <h3 id="reprint-requests">0</h3>
                            <p>Reprint Requests</p>
                        </div>
                        <div class="card-icon reprint">
                            <i class="fas fa-redo"></i>
                        </div>
                    </div>
                    <div class="card-footer">
                        <span id="reprint-pending">0 pending</span>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div>
                            <h3 id="inventory-count">0</h3>
                            <p>Blank Cards</p>
                        </div>
                        <div class="card-icon inventory">
                            <i class="fas fa-box-open"></i>
                        </div>
                    </div>
                    <div class="card-footer">
                        <span id="inventory-status">Low stock</span>
                    </div>
                </div>
            </div>

            <!-- Recent Activity -->
            <div class="recent-activity">
                <div class="section-header">
                    <h2>Recent Card Issues</h2>
                    <a href="#">View All</a>
                </div>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>ID Number</th>
                            <th>Name</th>
                            <th>Type</th>
                            <th>Issued On</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="recent-cards-table">
                        <!-- Recent cards will be loaded here -->
                    </tbody>
                </table>
            </div>

            <!-- ID Card Preview -->
            <div class="card-preview-section">
                <div class="section-header">
                    <h2>Current Card Template</h2>
                    <button class="btn btn-edit-template" onclick="editTemplate()">Edit Template</button>
                </div>
                <div class="id-card-preview" id="id-card-preview">
                    <!-- ID card preview will be shown here -->
                    <div class="id-card-front">
                        <div class="id-card-header">
                            <img src="college-logo.png" alt="College Logo" class="college-logo">
                            <h3>College Name</h3>
                            <p>Identity Card</p>
                        </div>
                        <div class="id-card-body">
                            <div class="id-card-photo">
                                <img src="default-avatar.jpg" alt="Student Photo">
                            </div>
                            <div class="id-card-details">
                                <p><strong>Name:</strong> <span id="preview-name">Student Name</span></p>
                                <p><strong>ID:</strong> <span id="preview-id">STU2023001</span></p>
                                <p><strong>Course:</strong> <span id="preview-course">B.Sc Computer Science</span></p>
                                <p><strong>Valid Until:</strong> <span id="preview-valid">30/06/2025</span></p>
                            </div>
                        </div>
                        <div class="id-card-footer">
                            <div class="barcode">
                                <img src="barcode-placeholder.png" alt="Barcode">
                            </div>
                            <div class="signature">
                                <p>Registrar</p>
                                <img src="signature-placeholder.png" alt="Signature">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Other sections (Card Requests, Generate Cards, etc.) would go here -->
    </div>

    <!-- ID Card Generator Modal -->
    <div id="idcard-modal" class="modal">
        <div class="modal-content idcard-content">
            <div class="modal-header">
                <h2>Generate ID Card</h2>
                <button class="close-btn" onclick="closeModal('idcard-modal')">&times;</button>
            </div>
            <div class="idcard-form">
                <div class="form-group">
                    <label for="card-type">Card Type</label>
                    <select id="card-type">
                        <option value="student">Student</option>
                        <option value="staff">Staff</option>
                        <option value="faculty">Faculty</option>
                        <option value="visitor">Visitor</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="card-person">Select Person</label>
                    <select id="card-person">
                        <option value="">Search by name or ID</option>
                        <!-- Options will be loaded dynamically -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="card-template">Template</label>
                    <select id="card-template">
                        <option value="default">Default Template</option>
                        <!-- Template options will be loaded here -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="card-expiry">Expiry Date</label>
                    <input type="date" id="card-expiry">
                </div>
                <div class="form-actions">
                    <button class="btn btn-preview" onclick="previewIdCard()">Preview</button>
                    <button class="btn btn-generate" onclick="generateIdCard()">Generate Card</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Section toggle functions
function hideAllSections() {
    document.getElementById('dashboard-section').style.display = 'none';
    // Add other section IDs here if you create them
}

function showDashboard() {
    hideAllSections();
    document.getElementById('dashboard-section').style.display = 'block';
}

function showCardRequests() {
    hideAllSections();
    alert("Card Requests section clicked");
}

function showGenerateCards() {
    hideAllSections();
    document.getElementById('idcard-modal').style.display = 'block';
}

function showCardTemplates() {
    hideAllSections();
    alert("Card Templates section clicked");
}

function showReprintRequests() {
    hideAllSections();
    alert("Reprint Requests section clicked");
}

function showCardInventory() {
    hideAllSections();
    alert("Inventory section clicked");
}

// Modal functionality
function closeModal(id) {
    document.getElementById(id).style.display = 'none';
}

// Preview ID Card
function previewIdCard() {
    const personSelect = document.getElementById("card-person");
    const type = document.getElementById("card-type").value;
    const expiry = document.getElementById("card-expiry").value;

    const personName = personSelect.options[personSelect.selectedIndex].text;
    const personId = personSelect.value || "STU2023001"; // default fallback
    const course = type === "student" ? "B.Sc Computer Science" : type.charAt(0).toUpperCase() + type.slice(1);

    document.getElementById("preview-name").textContent = personName || "Unknown";
    document.getElementById("preview-id").textContent = personId;
    document.getElementById("preview-course").textContent = course;
    document.getElementById("preview-valid").textContent = expiry || "N/A";
}

// Dummy card generation
function generateIdCard() {
    alert("ID Card generated successfully!");
    closeModal("idcard-modal");

    // You could also update dashboard counters here
    document.getElementById("cards-generated").textContent = parseInt(document.getElementById("cards-generated").textContent) + 1;
    document.getElementById("generated-this-week").textContent = parseInt(document.getElementById("generated-this-week").textContent) + 1;

    // You may also want to add entry in recent-cards-table
}

// Dummy data loader
window.onload = function () {
    showDashboard();

    // Load dummy users
    const personSelect = document.getElementById("card-person");
    const dummyUsers = [
        { id: "STU2023001", name: "Alice Johnson" },
        { id: "STU2023002", name: "Bob Smith" },
        { id: "STU2023003", name: "Charlie Lee" },
    ];
    dummyUsers.forEach(user => {
        const option = document.createElement("option");
        option.value = user.id;
        option.textContent = user.name;
        personSelect.appendChild(option);
    });

    // Optionally populate recent card issues
    const recentTable = document.getElementById("recent-cards-table");
    recentTable.innerHTML = dummyUsers.map(user => `
        <tr>
            <td>${user.id}</td>
            <td>${user.name}</td>
            <td>Student</td>
            <td>${new Date().toLocaleDateString()}</td>
            <td><span class="status issued">Issued</span></td>
            <td><button class="btn-sm">View</button></td>
        </tr>
    `).join('');
};

    </script>
</body>
</html>